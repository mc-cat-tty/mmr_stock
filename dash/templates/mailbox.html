{% extends "base.html" %}

{% block content %}

<div class="row row-cols-md-2 m-3 d-flex justify-content-center align-items-center full-height">
  <div class="card p-4 full-height" style="min-width: 200px; max-width: 700px">
    <div class="card-title">
      <h4 class="row d-flex justify-content-center pb-2">Your requests</h4>
    </div>
    <div class="card-body overflow-auto">

      <div class="accordion">
        <div class="accordion-item">
          <h2 class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#pastRequests">
              View past requests
            </button>
          </h2>

          <div id="pastRequests" class="accordion-collapse collapse">
            <div class="accordion-body">
              <!-- All Messages Card -->
              {% for request in object_list %}
                {% if request.viewed and request.approved != None %}
                  {% include "request_card.html" %}
                {% endif %}
              {% endfor %}
            </div>
          </div>

        </div>
      </div>

      <div class="row my-3"></div>

      {% for request in object_list %}
      {% if not request.viewed or request.approved == None %}
        {% include "request_card.html" %}
      {% endif %}
    {% endfor %}
      
    </div>
  </div>
</div>


<style>
.full-height {
  height: calc(100vh - 120px);
}
</style>

{% endblock %}